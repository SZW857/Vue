{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// The `ltag` table stores IETF BCP-47 language tags. It allows supporting\n// languages for which TrueType does not assign a numeric code.\n// https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6ltag.html\n// http://www.w3.org/International/articles/language-tags/\n// http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\nfunction makeLtagTable(tags) {\n  const result = new table.Table('ltag', [{\n    name: 'version',\n    type: 'ULONG',\n    value: 1\n  }, {\n    name: 'flags',\n    type: 'ULONG',\n    value: 0\n  }, {\n    name: 'numTags',\n    type: 'ULONG',\n    value: tags.length\n  }]);\n  let stringPool = '';\n  const stringPoolOffset = 12 + tags.length * 4;\n  for (let i = 0; i < tags.length; ++i) {\n    let pos = stringPool.indexOf(tags[i]);\n    if (pos < 0) {\n      pos = stringPool.length;\n      stringPool += tags[i];\n    }\n    result.fields.push({\n      name: 'offset ' + i,\n      type: 'USHORT',\n      value: stringPoolOffset + pos\n    });\n    result.fields.push({\n      name: 'length ' + i,\n      type: 'USHORT',\n      value: tags[i].length\n    });\n  }\n  result.fields.push({\n    name: 'stringPool',\n    type: 'CHARARRAY',\n    value: stringPool\n  });\n  return result;\n}\nfunction parseLtagTable(data, start) {\n  const p = new parse.Parser(data, start);\n  const tableVersion = p.parseULong();\n  check.argument(tableVersion === 1, 'Unsupported ltag table version.');\n  // The 'ltag' specification does not define any flags; skip the field.\n  p.skip('uLong', 1);\n  const numTags = p.parseULong();\n  const tags = [];\n  for (let i = 0; i < numTags; i++) {\n    let tag = '';\n    const offset = start + p.parseUShort();\n    const length = p.parseUShort();\n    for (let j = offset; j < offset + length; ++j) {\n      tag += String.fromCharCode(data.getInt8(j));\n    }\n    tags.push(tag);\n  }\n  return tags;\n}\nexport default {\n  make: makeLtagTable,\n  parse: parseLtagTable\n};","map":{"version":3,"names":["check","parse","table","makeLtagTable","tags","result","Table","name","type","value","length","stringPool","stringPoolOffset","i","pos","indexOf","fields","push","parseLtagTable","data","start","p","Parser","tableVersion","parseULong","argument","skip","numTags","tag","offset","parseUShort","j","String","fromCharCode","getInt8","make"],"sources":["C:/Users/14486/Desktop/社区公益系统前端/vue_community/node_modules/opentype.js/src/tables/ltag.js"],"sourcesContent":["// The `ltag` table stores IETF BCP-47 language tags. It allows supporting\n// languages for which TrueType does not assign a numeric code.\n// https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6ltag.html\n// http://www.w3.org/International/articles/language-tags/\n// http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\n\nfunction makeLtagTable(tags) {\n    const result = new table.Table('ltag', [\n        {name: 'version', type: 'ULONG', value: 1},\n        {name: 'flags', type: 'ULONG', value: 0},\n        {name: 'numTags', type: 'ULONG', value: tags.length}\n    ]);\n\n    let stringPool = '';\n    const stringPoolOffset = 12 + tags.length * 4;\n    for (let i = 0; i < tags.length; ++i) {\n        let pos = stringPool.indexOf(tags[i]);\n        if (pos < 0) {\n            pos = stringPool.length;\n            stringPool += tags[i];\n        }\n\n        result.fields.push({name: 'offset ' + i, type: 'USHORT', value: stringPoolOffset + pos});\n        result.fields.push({name: 'length ' + i, type: 'USHORT', value: tags[i].length});\n    }\n\n    result.fields.push({name: 'stringPool', type: 'CHARARRAY', value: stringPool});\n    return result;\n}\n\nfunction parseLtagTable(data, start) {\n    const p = new parse.Parser(data, start);\n    const tableVersion = p.parseULong();\n    check.argument(tableVersion === 1, 'Unsupported ltag table version.');\n    // The 'ltag' specification does not define any flags; skip the field.\n    p.skip('uLong', 1);\n    const numTags = p.parseULong();\n\n    const tags = [];\n    for (let i = 0; i < numTags; i++) {\n        let tag = '';\n        const offset = start + p.parseUShort();\n        const length = p.parseUShort();\n        for (let j = offset; j < offset + length; ++j) {\n            tag += String.fromCharCode(data.getInt8(j));\n        }\n\n        tags.push(tag);\n    }\n\n    return tags;\n}\n\nexport default { make: makeLtagTable, parse: parseLtagTable };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}