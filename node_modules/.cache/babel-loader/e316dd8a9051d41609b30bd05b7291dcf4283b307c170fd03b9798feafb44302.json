{"ast":null,"code":"import { reactive, ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nconst sub = () => {\n  ElMessage({\n    message: 'Congrats, this is a success message.',\n    type: 'success'\n  });\n};\nconst __default__ = {\n  data() {\n    return {\n      active: 0\n    };\n  },\n  methods: {\n    prev() {\n      --this.active;\n      if (this.active < 0) this.active = 0;\n    },\n    next() {\n      if (this.active++ > 3) this.active = 0;\n    },\n    sub() {\n      this.active++;\n      if (this.active = 4) {\n        ElMessage({\n          message: '恭喜你！完成密码修改',\n          type: 'success'\n        });\n        this.$router.replace('/ForgotPwd3');\n      }\n    }\n  }\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  __name: 'ForgotPwdTemplate',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const checkAge = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('Please input the age'));\n      }\n      setTimeout(() => {\n        if (!Number.isInteger(value)) {\n          callback(new Error('Please input digits'));\n        } else {\n          if (value < 18) {\n            callback(new Error('Age must be greater than 18'));\n          } else {\n            callback();\n          }\n        }\n      }, 1000);\n    };\n    const telephone = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请输入手机号!'));\n      } else {\n        if (ruleForm.checkPass !== '') {\n          if (!ruleFormRef.value) return;\n          ruleFormRef.value.validateField('checkPass', () => null);\n        } else {}\n        callback();\n      }\n    };\n    const IdCard = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('Please input the password again'));\n      } else if (value !== ruleForm.pass) {\n        callback(new Error(\"Two inputs don't match!\"));\n      } else {\n        callback();\n      }\n    };\n    const ruleForm = reactive({\n      pass: '',\n      checkPass: '',\n      age: ''\n    });\n    const rules = reactive({\n      pass: [{\n        validator: telephone,\n        trigger: 'blur'\n      }],\n      checkPass: [{\n        validator: IdCard,\n        trigger: 'blur'\n      }],\n      age: [{\n        validator: checkAge,\n        trigger: 'blur'\n      }]\n    });\n    const telephoneCheak = string => {\n      var pattern = /^1[345678]\\d{9}$/;\n      if (pattern.test(string)) {\n        return true;\n      }\n      console.log('检查号码' + string + 'failed');\n      return false;\n    };\n    const __returned__ = {\n      sub,\n      checkAge,\n      telephone,\n      IdCard,\n      ruleForm,\n      rules,\n      telephoneCheak,\n      ElMessage,\n      reactive,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"mappings":"AAoGA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AAzCnC,SAASC,SAAS,QAAQ,cAAc;AACxC,MAAMC,GAAG,GAAC,MAAK;EACbD,SAAS,CAAC;IACRE,OAAO,EAAE,sCAAsC;IAC/CC,IAAI,EAAE;EACR,CAAC,CAAC;AACJ,CAAC;AAGD,oBAAe;EACbC,IAAI,GAAE;IACA,OAAM;MACJC,MAAM,EAAC;IACT,CAAC;EAEP,CAAC;EACDC,OAAO,EAAE;IACLC,IAAI,GAAE;MACJ,EAAE,IAAI,CAACF,MAAM;MACb,IAAI,IAAI,CAACA,MAAM,GAAC,CAAC,EAAE,IAAI,CAACA,MAAM,GAAC,CAAC;IAClC,CAAC;IACDG,IAAI,GAAE;MACJ,IAAG,IAAI,CAACH,MAAM,EAAE,GAAC,CAAC,EAAE,IAAI,CAACA,MAAM,GAAC,CAAC;IACnC,CAAC;IACDJ,GAAG,GAAE;MACH,IAAI,CAACI,MAAM,EAAE;MACb,IAAI,IAAI,CAACA,MAAM,GAAC,CAAC,EAAC;QAEhBL,SAAS,CAAC;UACRE,OAAO,EAAE,YAAY;UACrBC,IAAI,EAAE;QACR,CAAC,CAAC;QACF,IAAI,CAACM,OAAO,CAACC,OAAO,CAAC,aAAa,CAAC;MACrC;IACF;EACJ;AACF,CAAC;;;;;;;IAMD,MAAMC,QAAQ,GAAG,CAACC,IAAI,EAAEC,KAAK,EAAEC,QAAQ,KAAK;MAC1C,IAAI,CAACD,KAAK,EAAE;QACV,OAAOC,QAAQ,CAAC,IAAIC,KAAK,CAAC,sBAAsB,CAAC,CAAC;MACpD;MACAC,UAAU,CAAC,MAAM;QACf,IAAI,CAACC,MAAM,CAACC,SAAS,CAACL,KAAK,CAAC,EAAE;UAC5BC,QAAQ,CAAC,IAAIC,KAAK,CAAC,qBAAqB,CAAC,CAAC;QAC5C,CAAC,MAAM;UACL,IAAIF,KAAK,GAAG,EAAE,EAAE;YACdC,QAAQ,CAAC,IAAIC,KAAK,CAAC,6BAA6B,CAAC,CAAC;UACpD,CAAC,MAAM;YACLD,QAAQ,EAAE;UACZ;QACF;MACF,CAAC,EAAE,IAAI,CAAC;IACV,CAAC;IAED,MAAMK,SAAS,GAAG,CAACP,IAAI,EAAEC,KAAK,EAAEC,QAAQ,KAAK;MAC3C,IAAID,KAAK,KAAK,EAAE,EAAE;QAChBC,QAAQ,CAAC,IAAIC,KAAK,CAAC,SAAS,CAAC,CAAC;MAChC,CAAC,MAAM;QACL,IAAIK,QAAQ,CAACC,SAAS,KAAK,EAAE,EAAE;UAE7B,IAAI,CAACC,WAAW,CAACT,KAAK,EAAE;UACxBS,WAAW,CAACT,KAAK,CAACU,aAAa,CAAC,WAAW,EAAE,MAAM,IAAI,CAAC;QAC1D,CAAC,MACI,CAEL;QACAT,QAAQ,EAAE;MACZ;IACF,CAAC;IACD,MAAMU,MAAM,GAAG,CAACZ,IAAI,EAAEC,KAAK,EAAEC,QAAQ,KAAK;MACxC,IAAID,KAAK,KAAK,EAAE,EAAE;QAChBC,QAAQ,CAAC,IAAIC,KAAK,CAAC,iCAAiC,CAAC,CAAC;MACxD,CAAC,MAAM,IAAIF,KAAK,KAAKO,QAAQ,CAACK,IAAI,EAAE;QAClCX,QAAQ,CAAC,IAAIC,KAAK,CAAC,yBAAyB,CAAC,CAAC;MAChD,CAAC,MAAM;QACLD,QAAQ,EAAE;MACZ;IACF,CAAC;IAED,MAAMM,QAAQ,GAAGtB,QAAQ,CAAC;MACxB2B,IAAI,EAAE,EAAE;MACRJ,SAAS,EAAE,EAAE;MACbK,GAAG,EAAE;IACP,CAAC,CAAC;IAEF,MAAMC,KAAK,GAAG7B,QAAQ,CAAC;MACrB2B,IAAI,EAAE,CAAC;QAAEG,SAAS,EAAET,SAAS;QAAEU,OAAO,EAAE;MAAO,CAAC,CAAC;MACjDR,SAAS,EAAE,CAAC;QAAEO,SAAS,EAAEJ,MAAM;QAAEK,OAAO,EAAE;MAAO,CAAC,CAAC;MACnDH,GAAG,EAAE,CAAC;QAAEE,SAAS,EAAEjB,QAAQ;QAAEkB,OAAO,EAAE;MAAO,CAAC;IAChD,CAAC,CAAC;IACF,MAAMC,cAAc,GAAIC,MAAM,IAAI;MAChC,IAAIC,OAAO,GAAC,kBAAkB;MAC9B,IAAIA,OAAO,CAAEC,IAAI,CAACF,MAAM,CAAC,EAAC;QACxB,OAAO,IAAI;MACb;MACAG,OAAO,CAACC,GAAG,CAAC,MAAM,GAACJ,MAAM,GAAC,QAAQ,CAAC;MACnC,OAAO,KAAK;IACd,CAAC","names":["reactive","ref","ElMessage","sub","message","type","data","active","methods","prev","next","$router","replace","checkAge","rule","value","callback","Error","setTimeout","Number","isInteger","telephone","ruleForm","checkPass","ruleFormRef","validateField","IdCard","pass","age","rules","validator","trigger","telephoneCheak","string","pattern","test","console","log"],"sources":["C:/Users/14486/Desktop/社区公益系统前端/vue_community/src/components/ForgetPwd/ForgotPwdTemplate.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"StepBar\">\r\n      <el-steps :space=\"400\" :active=\"active\" finish-status=\"success\" align-center>\r\n        <el-step title=\"填写账号\" />\r\n        <el-step title=\"身份验证\" />\r\n        <el-step title=\"新密码\" />\r\n        <el-step title=\"完成\" />\r\n      </el-steps>\r\n    </div>\r\n    <div style=\"height: 600px;background-color: #3ccb83;margin-top: 40px\" v-if=\"active===0\">\r\n      <div>\r\n        <H1>用户名或身份证号校验:</H1>\r\n        <el-form\r\n            ref=\"ruleFormRef\"\r\n            :model=\"ruleForm\"\r\n            status-icon\r\n            :rules=\"rules\"\r\n            label-width=\"120px\"\r\n            class=\"demo-ruleForm\"\r\n        >\r\n          <el-form-item label=\"手机号码\" prop=\"pass\">\r\n            <el-input\r\n                :maxlength=\"11\"\r\n                v-model=\"ruleForm.pass\"\r\n                type=\"text\"\r\n                autocomplete=\"off\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"身份证号\" prop=\"checkPass\">\r\n            <el-input\r\n                :maxlength=\"18\"\r\n                v-model=\"ruleForm.checkPass\"\r\n                type=\"text\"\r\n                autocomplete=\"off\"\r\n            />\r\n          </el-form-item>\r\n\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submitForm(ruleFormRef)\"\r\n            >Submit</el-button\r\n            >\r\n            <el-button @click=\"resetForm(ruleFormRef)\">Reset</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n    <div style=\"height: 600px;background-color: #385948;margin-top: 40px\" v-if=\"active===1\"><div>  </div></div>\r\n    <div style=\"height: 600px;background-color: #012d01;margin-top: 40px\" v-if=\"active===2\"><div>  </div></div>\r\n    <div style=\"height: 600px;background-color: #95a89a;margin-top: 40px\" v-if=\"active===3\"><div>  </div></div>\r\n    <router-view></router-view>\r\n    <div class=\"deployBtn\">\r\n      <el-button @click=\"prev\" v-if=\"active==1||active==2||active==3\">上一步</el-button>\r\n      <el-button type=\"primary\" @click=\"next\" v-if=\"active==0||active==1||active==2\">下一步</el-button>\r\n      <el-button @click=\"sub\" v-if=\"active==3\">提交</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script >\r\nimport { ElMessage } from 'element-plus'\r\nconst sub=() =>{\r\n  ElMessage({\r\n    message: 'Congrats, this is a success message.',\r\n    type: 'success',\r\n  })\r\n}\r\n\r\n\r\nexport default {\r\n  data(){\r\n        return{\r\n          active:0,\r\n        }\r\n\r\n  },\r\n  methods: {\r\n      prev(){\r\n        --this.active;\r\n        if (this.active<0) this.active=0\r\n      },\r\n      next(){\r\n        if(this.active++>3) this.active=0\r\n      },\r\n      sub(){\r\n        this.active++;\r\n        if (this.active=4){\r\n\r\n          ElMessage({\r\n            message: '恭喜你！完成密码修改',\r\n            type: 'success',\r\n          })\r\n          this.$router.replace('/ForgotPwd3')\r\n        }\r\n      },\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<script  setup>\r\nimport { reactive, ref } from 'vue'\r\nconst checkAge = (rule, value, callback) => {\r\n  if (!value) {\r\n    return callback(new Error('Please input the age'))\r\n  }\r\n  setTimeout(() => {\r\n    if (!Number.isInteger(value)) {\r\n      callback(new Error('Please input digits'))\r\n    } else {\r\n      if (value < 18) {\r\n        callback(new Error('Age must be greater than 18'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n  }, 1000)\r\n}\r\n\r\nconst telephone = (rule, value, callback) => {\r\n  if (value === '') {\r\n    callback(new Error('请输入手机号!'))\r\n  } else {\r\n    if (ruleForm.checkPass !== '') {\r\n\r\n      if (!ruleFormRef.value) return\r\n      ruleFormRef.value.validateField('checkPass', () => null)\r\n    }\r\n    else {\r\n      \r\n    }\r\n    callback()\r\n  }\r\n}\r\nconst IdCard = (rule, value, callback) => {\r\n  if (value === '') {\r\n    callback(new Error('Please input the password again'))\r\n  } else if (value !== ruleForm.pass) {\r\n    callback(new Error(\"Two inputs don't match!\"))\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n\r\nconst ruleForm = reactive({\r\n  pass: '',\r\n  checkPass: '',\r\n  age: '',\r\n})\r\n\r\nconst rules = reactive({\r\n  pass: [{ validator: telephone, trigger: 'blur' }],\r\n  checkPass: [{ validator: IdCard, trigger: 'blur' }],\r\n  age: [{ validator: checkAge, trigger: 'blur' }],\r\n})\r\nconst telephoneCheak = (string) =>{\r\n  var pattern=/^1[345678]\\d{9}$/;\r\n  if (pattern .test(string)){\r\n    return true;\r\n  }\r\n  console.log('检查号码'+string+'failed')\r\n  return false;\r\n}\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<style scoped>\r\n.container{\r\n  width: 1200px;\r\n  margin-left: 150px;\r\n  background-color: #ffffff;\r\n}\r\n.StepBar{\r\n  background-color: #d23243;\r\n  height: 60px;\r\n}\r\n.content{\r\n  height: 700px;\r\n  background-color: #1c95a9;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}