{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// The `hmtx` table contains the horizontal metrics for all glyphs.\n// https://www.microsoft.com/typography/OTSPEC/hmtx.htm\n\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the `hmtx` table, which contains the horizontal metrics for all glyphs.\n// This function augments the glyph array, adding the advanceWidth and leftSideBearing to each glyph.\nfunction parseHmtxTable(data, start, numMetrics, numGlyphs, glyphs) {\n  let advanceWidth;\n  let leftSideBearing;\n  const p = new parse.Parser(data, start);\n  for (let i = 0; i < numGlyphs; i += 1) {\n    // If the font is monospaced, only one entry is needed. This last entry applies to all subsequent glyphs.\n    if (i < numMetrics) {\n      advanceWidth = p.parseUShort();\n      leftSideBearing = p.parseShort();\n    }\n    const glyph = glyphs.get(i);\n    glyph.advanceWidth = advanceWidth;\n    glyph.leftSideBearing = leftSideBearing;\n  }\n}\nfunction makeHmtxTable(glyphs) {\n  const t = new table.Table('hmtx', []);\n  for (let i = 0; i < glyphs.length; i += 1) {\n    const glyph = glyphs.get(i);\n    const advanceWidth = glyph.advanceWidth || 0;\n    const leftSideBearing = glyph.leftSideBearing || 0;\n    t.fields.push({\n      name: 'advanceWidth_' + i,\n      type: 'USHORT',\n      value: advanceWidth\n    });\n    t.fields.push({\n      name: 'leftSideBearing_' + i,\n      type: 'SHORT',\n      value: leftSideBearing\n    });\n  }\n  return t;\n}\nexport default {\n  parse: parseHmtxTable,\n  make: makeHmtxTable\n};","map":{"version":3,"names":["parse","table","parseHmtxTable","data","start","numMetrics","numGlyphs","glyphs","advanceWidth","leftSideBearing","p","Parser","i","parseUShort","parseShort","glyph","get","makeHmtxTable","t","Table","length","fields","push","name","type","value","make"],"sources":["C:/Users/14486/Desktop/社区公益系统前端/vue_community/node_modules/_opentype.js@0.7.3@opentype.js/src/tables/hmtx.js"],"sourcesContent":["// The `hmtx` table contains the horizontal metrics for all glyphs.\n// https://www.microsoft.com/typography/OTSPEC/hmtx.htm\n\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the `hmtx` table, which contains the horizontal metrics for all glyphs.\n// This function augments the glyph array, adding the advanceWidth and leftSideBearing to each glyph.\nfunction parseHmtxTable(data, start, numMetrics, numGlyphs, glyphs) {\n    let advanceWidth;\n    let leftSideBearing;\n    const p = new parse.Parser(data, start);\n    for (let i = 0; i < numGlyphs; i += 1) {\n        // If the font is monospaced, only one entry is needed. This last entry applies to all subsequent glyphs.\n        if (i < numMetrics) {\n            advanceWidth = p.parseUShort();\n            leftSideBearing = p.parseShort();\n        }\n\n        const glyph = glyphs.get(i);\n        glyph.advanceWidth = advanceWidth;\n        glyph.leftSideBearing = leftSideBearing;\n    }\n}\n\nfunction makeHmtxTable(glyphs) {\n    const t = new table.Table('hmtx', []);\n    for (let i = 0; i < glyphs.length; i += 1) {\n        const glyph = glyphs.get(i);\n        const advanceWidth = glyph.advanceWidth || 0;\n        const leftSideBearing = glyph.leftSideBearing || 0;\n        t.fields.push({name: 'advanceWidth_' + i, type: 'USHORT', value: advanceWidth});\n        t.fields.push({name: 'leftSideBearing_' + i, type: 'SHORT', value: leftSideBearing});\n    }\n\n    return t;\n}\n\nexport default { parse: parseHmtxTable, make: makeHmtxTable };\n"],"mappings":";AAAA;AACA;;AAEA,OAAOA,KAAK,MAAM,UAAU;AAC5B,OAAOC,KAAK,MAAM,UAAU;;AAE5B;AACA;AACA,SAASC,cAAc,CAACC,IAAI,EAAEC,KAAK,EAAEC,UAAU,EAAEC,SAAS,EAAEC,MAAM,EAAE;EAChE,IAAIC,YAAY;EAChB,IAAIC,eAAe;EACnB,MAAMC,CAAC,GAAG,IAAIV,KAAK,CAACW,MAAM,CAACR,IAAI,EAAEC,KAAK,CAAC;EACvC,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,SAAS,EAAEM,CAAC,IAAI,CAAC,EAAE;IACnC;IACA,IAAIA,CAAC,GAAGP,UAAU,EAAE;MAChBG,YAAY,GAAGE,CAAC,CAACG,WAAW,EAAE;MAC9BJ,eAAe,GAAGC,CAAC,CAACI,UAAU,EAAE;IACpC;IAEA,MAAMC,KAAK,GAAGR,MAAM,CAACS,GAAG,CAACJ,CAAC,CAAC;IAC3BG,KAAK,CAACP,YAAY,GAAGA,YAAY;IACjCO,KAAK,CAACN,eAAe,GAAGA,eAAe;EAC3C;AACJ;AAEA,SAASQ,aAAa,CAACV,MAAM,EAAE;EAC3B,MAAMW,CAAC,GAAG,IAAIjB,KAAK,CAACkB,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC;EACrC,KAAK,IAAIP,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,MAAM,CAACa,MAAM,EAAER,CAAC,IAAI,CAAC,EAAE;IACvC,MAAMG,KAAK,GAAGR,MAAM,CAACS,GAAG,CAACJ,CAAC,CAAC;IAC3B,MAAMJ,YAAY,GAAGO,KAAK,CAACP,YAAY,IAAI,CAAC;IAC5C,MAAMC,eAAe,GAAGM,KAAK,CAACN,eAAe,IAAI,CAAC;IAClDS,CAAC,CAACG,MAAM,CAACC,IAAI,CAAC;MAACC,IAAI,EAAE,eAAe,GAAGX,CAAC;MAAEY,IAAI,EAAE,QAAQ;MAAEC,KAAK,EAAEjB;IAAY,CAAC,CAAC;IAC/EU,CAAC,CAACG,MAAM,CAACC,IAAI,CAAC;MAACC,IAAI,EAAE,kBAAkB,GAAGX,CAAC;MAAEY,IAAI,EAAE,OAAO;MAAEC,KAAK,EAAEhB;IAAe,CAAC,CAAC;EACxF;EAEA,OAAOS,CAAC;AACZ;AAEA,eAAe;EAAElB,KAAK,EAAEE,cAAc;EAAEwB,IAAI,EAAET;AAAc,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}