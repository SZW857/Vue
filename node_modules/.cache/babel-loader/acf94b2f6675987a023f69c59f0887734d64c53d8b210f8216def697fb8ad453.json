{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '@/static/vedio/catoon.mp4.mp4';\nconst _hoisted_1 = [\"controls\"];\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"video\", {\n    src: _imports_0,\n    controls: _ctx.videoOptions.controls,\n    class: \"video-js vjs-big-play-centered vjs-fluid\",\n    \"webkit-playsinline\": \"true\",\n    playsinline: \"true\",\n    \"x-webkit-airplay\": \"allow\",\n    \"x5-playsinline\": \"\",\n    style: {\n      \"width\": \"100%\"\n    },\n    onPlay: _cache[0] || (_cache[0] = (...args) => _ctx.onPlayerPlay && _ctx.onPlayerPlay(...args)),\n    onPause: _cache[1] || (_cache[1] = (...args) => _ctx.onPlayerPause && _ctx.onPlayerPause(...args)),\n    onSeeking: _cache[2] || (_cache[2] = (...args) => _ctx.seeking && _ctx.seeking(...args)),\n    autoplay: \"autoplay\",\n    ref: \"video\"\n  }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_1)]);\n}","map":{"version":3,"mappings":";OAGQA,UAAmC;;;uBAFzCC,oBAgBM,cAfJC,oBAcQ;IAbJC,GAAmC,EAAnCH,UAAmC;IAClCI,QAAQ,EAAEC,iBAAY,CAACD,QAAQ;IAChCE,KAAK,EAAC,0CAA0C;IAChD,oBAAkB,EAAC,MAAM;IACzBC,WAAW,EAAC,MAAM;IAClB,kBAAgB,EAAC,OAAO;IACxB,gBAAc,EAAd,EAAc;IACdC,KAAoB,EAApB;MAAA;IAAA,CAAoB;IACnBC,MAAI,yCAAEJ,+CAAY;IAClBK,OAAK,yCAAEL,iDAAa;IACpBM,SAAO,yCAAEN,qCAAO;IACjBO,QAAQ,EAAC,UAAU;IACnBC,GAAG,EAAC","names":["_imports_0","_createElementBlock","_createElementVNode","src","controls","_ctx","class","playsinline","style","onPlay","onPause","onSeeking","autoplay","ref"],"sourceRoot":"","sources":["C:\\Users\\14486\\Desktop\\社区公益系统前端\\vue_community\\src\\NavigationBar\\test.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <video\r\n        src=\"@/static/vedio/catoon.mp4.mp4\"\r\n        :controls=\"videoOptions.controls\"\r\n        class=\"video-js vjs-big-play-centered vjs-fluid\"\r\n        webkit-playsinline=\"true\"\r\n        playsinline=\"true\"\r\n        x-webkit-airplay=\"allow\"\r\n        x5-playsinline\r\n        style=\"width: 100%;\"\r\n        @play=\"onPlayerPlay\"\r\n        @pause=\"onPlayerPause\"\r\n        @seeking=\"seeking\"\r\n        autoplay=\"autoplay\"\r\n        ref=\"video\">\r\n    </video>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"showVideo\",\r\n  data() {\r\n    return {\r\n      videoOptions: {\r\n        controls:true,\r\n        src:\r\n            \"@/static/vedio/catoon.mp4.mp4\", // url地址\r\n      },\r\n      player: null,\r\n      playTime:'',\r\n      seekTime:'',\r\n      current:'',\r\n    },\r\n        beforeRouteLeave(){\r\n      //\r\n    },\r\n    mounted() {\r\n      this.initVideo();\r\n    },\r\n    methods: {\r\n      initVideo() {\r\n        //原生初始化视频方法\r\n        let myVideo = this.$refs.video;\r\n        //ontimeupdate\r\n        myVideo.ontimeupdate = function() {myFunction()};\r\n        let _this = this;\r\n\r\n        function myFunction(){\r\n          let playTime = myVideo.currentTime\r\n          setTimeout(function () {\r\n            localStorage.setItem(\"cacheTime\",playTime)\r\n          },500)\r\n          let time = localStorage.getItem(\"cacheTime\")\r\n          // 当前播放位置发生变化时触发。\r\n          if(playTime - Number(time) > 2){\r\n            myVideo.currentTime = Number(time)\r\n          }else{\r\n          }\r\n        };\r\n\r\n        // 播放回调\r\n        onPlayerPlay(player) {\r\n          // this.globalSetting = true\r\n          console.log(\"player play!\", player);\r\n          // document.getElementsByClassName(\"vjs-control-bar\").style.display = \"block\";\r\n          // document.getElementsByClassName(\"vjs-control-bar\").style.display = \"block\";\r\n        },\r\n\r\n        // 暂停回调\r\n        onPlayerPause(player) {\r\n          // this.globalSetting.controls = false;\r\n          // console.log(\"player pause!\", player);\r\n          // var video = document.getElementById(\"video\");\r\n          // video.controls=false;\r\n          // document.getElementsByClassName(\"vjs-control-bar\").style.display = \"none\";\r\n        },\r\n      },\r\n\r\n      beforeDestroy() {\r\n        if (this.player) {\r\n          this.player.dispose()\r\n        }\r\n      }\r\n    }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}