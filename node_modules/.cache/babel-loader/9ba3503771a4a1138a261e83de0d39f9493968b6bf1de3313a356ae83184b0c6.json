{"ast":null,"code":"// The `head` table contains global information about the font.\n// https://www.microsoft.com/typography/OTSPEC/head.htm\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the header `head` table\nfunction parseHeadTable(data, start) {\n  const head = {};\n  const p = new parse.Parser(data, start);\n  head.version = p.parseVersion();\n  head.fontRevision = Math.round(p.parseFixed() * 1000) / 1000;\n  head.checkSumAdjustment = p.parseULong();\n  head.magicNumber = p.parseULong();\n  check.argument(head.magicNumber === 0x5F0F3CF5, 'Font header has wrong magic number.');\n  head.flags = p.parseUShort();\n  head.unitsPerEm = p.parseUShort();\n  head.created = p.parseLongDateTime();\n  head.modified = p.parseLongDateTime();\n  head.xMin = p.parseShort();\n  head.yMin = p.parseShort();\n  head.xMax = p.parseShort();\n  head.yMax = p.parseShort();\n  head.macStyle = p.parseUShort();\n  head.lowestRecPPEM = p.parseUShort();\n  head.fontDirectionHint = p.parseShort();\n  head.indexToLocFormat = p.parseShort();\n  head.glyphDataFormat = p.parseShort();\n  return head;\n}\nfunction makeHeadTable(options) {\n  // Apple Mac timestamp epoch is 01/01/1904 not 01/01/1970\n  const timestamp = Math.round(new Date().getTime() / 1000) + 2082844800;\n  let createdTimestamp = timestamp;\n  if (options.createdTimestamp) {\n    createdTimestamp = options.createdTimestamp + 2082844800;\n  }\n  return new table.Table('head', [{\n    name: 'version',\n    type: 'FIXED',\n    value: 0x00010000\n  }, {\n    name: 'fontRevision',\n    type: 'FIXED',\n    value: 0x00010000\n  }, {\n    name: 'checkSumAdjustment',\n    type: 'ULONG',\n    value: 0\n  }, {\n    name: 'magicNumber',\n    type: 'ULONG',\n    value: 0x5F0F3CF5\n  }, {\n    name: 'flags',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'unitsPerEm',\n    type: 'USHORT',\n    value: 1000\n  }, {\n    name: 'created',\n    type: 'LONGDATETIME',\n    value: createdTimestamp\n  }, {\n    name: 'modified',\n    type: 'LONGDATETIME',\n    value: timestamp\n  }, {\n    name: 'xMin',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'yMin',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'xMax',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'yMax',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'macStyle',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'lowestRecPPEM',\n    type: 'USHORT',\n    value: 0\n  }, {\n    name: 'fontDirectionHint',\n    type: 'SHORT',\n    value: 2\n  }, {\n    name: 'indexToLocFormat',\n    type: 'SHORT',\n    value: 0\n  }, {\n    name: 'glyphDataFormat',\n    type: 'SHORT',\n    value: 0\n  }], options);\n}\nexport default {\n  parse: parseHeadTable,\n  make: makeHeadTable\n};","map":{"version":3,"names":["check","parse","table","parseHeadTable","data","start","head","p","Parser","version","parseVersion","fontRevision","Math","round","parseFixed","checkSumAdjustment","parseULong","magicNumber","argument","flags","parseUShort","unitsPerEm","created","parseLongDateTime","modified","xMin","parseShort","yMin","xMax","yMax","macStyle","lowestRecPPEM","fontDirectionHint","indexToLocFormat","glyphDataFormat","makeHeadTable","options","timestamp","Date","getTime","createdTimestamp","Table","name","type","value","make"],"sources":["C:/Users/14486/Desktop/社区公益系统前端/vue_community/node_modules/opentype.js/src/tables/head.js"],"sourcesContent":["// The `head` table contains global information about the font.\n// https://www.microsoft.com/typography/OTSPEC/head.htm\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the header `head` table\nfunction parseHeadTable(data, start) {\n    const head = {};\n    const p = new parse.Parser(data, start);\n    head.version = p.parseVersion();\n    head.fontRevision = Math.round(p.parseFixed() * 1000) / 1000;\n    head.checkSumAdjustment = p.parseULong();\n    head.magicNumber = p.parseULong();\n    check.argument(head.magicNumber === 0x5F0F3CF5, 'Font header has wrong magic number.');\n    head.flags = p.parseUShort();\n    head.unitsPerEm = p.parseUShort();\n    head.created = p.parseLongDateTime();\n    head.modified = p.parseLongDateTime();\n    head.xMin = p.parseShort();\n    head.yMin = p.parseShort();\n    head.xMax = p.parseShort();\n    head.yMax = p.parseShort();\n    head.macStyle = p.parseUShort();\n    head.lowestRecPPEM = p.parseUShort();\n    head.fontDirectionHint = p.parseShort();\n    head.indexToLocFormat = p.parseShort();\n    head.glyphDataFormat = p.parseShort();\n    return head;\n}\n\nfunction makeHeadTable(options) {\n    // Apple Mac timestamp epoch is 01/01/1904 not 01/01/1970\n    const timestamp = Math.round(new Date().getTime() / 1000) + 2082844800;\n    let createdTimestamp = timestamp;\n\n    if (options.createdTimestamp) {\n        createdTimestamp = options.createdTimestamp + 2082844800;\n    }\n\n    return new table.Table('head', [\n        {name: 'version', type: 'FIXED', value: 0x00010000},\n        {name: 'fontRevision', type: 'FIXED', value: 0x00010000},\n        {name: 'checkSumAdjustment', type: 'ULONG', value: 0},\n        {name: 'magicNumber', type: 'ULONG', value: 0x5F0F3CF5},\n        {name: 'flags', type: 'USHORT', value: 0},\n        {name: 'unitsPerEm', type: 'USHORT', value: 1000},\n        {name: 'created', type: 'LONGDATETIME', value: createdTimestamp},\n        {name: 'modified', type: 'LONGDATETIME', value: timestamp},\n        {name: 'xMin', type: 'SHORT', value: 0},\n        {name: 'yMin', type: 'SHORT', value: 0},\n        {name: 'xMax', type: 'SHORT', value: 0},\n        {name: 'yMax', type: 'SHORT', value: 0},\n        {name: 'macStyle', type: 'USHORT', value: 0},\n        {name: 'lowestRecPPEM', type: 'USHORT', value: 0},\n        {name: 'fontDirectionHint', type: 'SHORT', value: 2},\n        {name: 'indexToLocFormat', type: 'SHORT', value: 0},\n        {name: 'glyphDataFormat', type: 'SHORT', value: 0}\n    ], options);\n}\n\nexport default { parse: parseHeadTable, make: makeHeadTable };\n"],"mappings":"AAAA;AACA;;AAEA,OAAOA,KAAK,MAAM,UAAU;AAC5B,OAAOC,KAAK,MAAM,UAAU;AAC5B,OAAOC,KAAK,MAAM,UAAU;;AAE5B;AACA,SAASC,cAAc,CAACC,IAAI,EAAEC,KAAK,EAAE;EACjC,MAAMC,IAAI,GAAG,CAAC,CAAC;EACf,MAAMC,CAAC,GAAG,IAAIN,KAAK,CAACO,MAAM,CAACJ,IAAI,EAAEC,KAAK,CAAC;EACvCC,IAAI,CAACG,OAAO,GAAGF,CAAC,CAACG,YAAY,EAAE;EAC/BJ,IAAI,CAACK,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACN,CAAC,CAACO,UAAU,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI;EAC5DR,IAAI,CAACS,kBAAkB,GAAGR,CAAC,CAACS,UAAU,EAAE;EACxCV,IAAI,CAACW,WAAW,GAAGV,CAAC,CAACS,UAAU,EAAE;EACjChB,KAAK,CAACkB,QAAQ,CAACZ,IAAI,CAACW,WAAW,KAAK,UAAU,EAAE,qCAAqC,CAAC;EACtFX,IAAI,CAACa,KAAK,GAAGZ,CAAC,CAACa,WAAW,EAAE;EAC5Bd,IAAI,CAACe,UAAU,GAAGd,CAAC,CAACa,WAAW,EAAE;EACjCd,IAAI,CAACgB,OAAO,GAAGf,CAAC,CAACgB,iBAAiB,EAAE;EACpCjB,IAAI,CAACkB,QAAQ,GAAGjB,CAAC,CAACgB,iBAAiB,EAAE;EACrCjB,IAAI,CAACmB,IAAI,GAAGlB,CAAC,CAACmB,UAAU,EAAE;EAC1BpB,IAAI,CAACqB,IAAI,GAAGpB,CAAC,CAACmB,UAAU,EAAE;EAC1BpB,IAAI,CAACsB,IAAI,GAAGrB,CAAC,CAACmB,UAAU,EAAE;EAC1BpB,IAAI,CAACuB,IAAI,GAAGtB,CAAC,CAACmB,UAAU,EAAE;EAC1BpB,IAAI,CAACwB,QAAQ,GAAGvB,CAAC,CAACa,WAAW,EAAE;EAC/Bd,IAAI,CAACyB,aAAa,GAAGxB,CAAC,CAACa,WAAW,EAAE;EACpCd,IAAI,CAAC0B,iBAAiB,GAAGzB,CAAC,CAACmB,UAAU,EAAE;EACvCpB,IAAI,CAAC2B,gBAAgB,GAAG1B,CAAC,CAACmB,UAAU,EAAE;EACtCpB,IAAI,CAAC4B,eAAe,GAAG3B,CAAC,CAACmB,UAAU,EAAE;EACrC,OAAOpB,IAAI;AACf;AAEA,SAAS6B,aAAa,CAACC,OAAO,EAAE;EAC5B;EACA,MAAMC,SAAS,GAAGzB,IAAI,CAACC,KAAK,CAAC,IAAIyB,IAAI,EAAE,CAACC,OAAO,EAAE,GAAG,IAAI,CAAC,GAAG,UAAU;EACtE,IAAIC,gBAAgB,GAAGH,SAAS;EAEhC,IAAID,OAAO,CAACI,gBAAgB,EAAE;IAC1BA,gBAAgB,GAAGJ,OAAO,CAACI,gBAAgB,GAAG,UAAU;EAC5D;EAEA,OAAO,IAAItC,KAAK,CAACuC,KAAK,CAAC,MAAM,EAAE,CAC3B;IAACC,IAAI,EAAE,SAAS;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAU,CAAC,EACnD;IAACF,IAAI,EAAE,cAAc;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAU,CAAC,EACxD;IAACF,IAAI,EAAE,oBAAoB;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAC,CAAC,EACrD;IAACF,IAAI,EAAE,aAAa;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAU,CAAC,EACvD;IAACF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAC,CAAC,EACzC;IAACF,IAAI,EAAE,YAAY;IAAEC,IAAI,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAI,CAAC,EACjD;IAACF,IAAI,EAAE,SAAS;IAAEC,IAAI,EAAE,cAAc;IAAEC,KAAK,EAAEJ;EAAgB,CAAC,EAChE;IAACE,IAAI,EAAE,UAAU;IAAEC,IAAI,EAAE,cAAc;IAAEC,KAAK,EAAEP;EAAS,CAAC,EAC1D;IAACK,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAC,CAAC,EACvC;IAACF,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAC,CAAC,EACvC;IAACF,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAC,CAAC,EACvC;IAACF,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAC,CAAC,EACvC;IAACF,IAAI,EAAE,UAAU;IAAEC,IAAI,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAC,CAAC,EAC5C;IAACF,IAAI,EAAE,eAAe;IAAEC,IAAI,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAC,CAAC,EACjD;IAACF,IAAI,EAAE,mBAAmB;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAC,CAAC,EACpD;IAACF,IAAI,EAAE,kBAAkB;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAC,CAAC,EACnD;IAACF,IAAI,EAAE,iBAAiB;IAAEC,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAC,CAAC,CACrD,EAAER,OAAO,CAAC;AACf;AAEA,eAAe;EAAEnC,KAAK,EAAEE,cAAc;EAAE0C,IAAI,EAAEV;AAAc,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}